<!DOCTYPE html>
<html lang="en-US">
<head>
    {% load static %}
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Risk Management System">
    <meta name="version" content="1.0">
    <meta http-equiv="Cache-control" content="public">
    <title>General Information | Risk Assessment</title>
    <link rel="shortcut icon" href="{% static 'favicon.ico' %}">
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    <link href="{% static 'css/icons.css' %}" rel="stylesheet">
    <link href="{% static 'css/app-min.css' %}" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/site_min_v7.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="assessment-view toggle-sidebar">

<header>
    <!-- Your header content here -->
</header>
<div class="admin-body" style="padding-top: 47.3854px;">
    <div class="container-fluid mrg_btm_containerfluid">
        <div class="animated fade-in">
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header headingOne pl-3 border-bottom-0">
                            <div class="row align-items-center">
                                <div class="col-md-6 d-flex justify-content-start">
                                    <h5 class="card-title mt-1">SCOPE, CONTEXT & CRITERIA</h5>
                                </div>
                            </div>
                        </div>
                        <div class="card-block">
                            <form method="post" action="{% url 'general_info' %}">
                                {% csrf_token %}
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="title">Title:</label>
                                        <input type="text" id="title" name="title" class="form-control" value="{{ request.session.general_info.title|default:'' }}">
                                        <label for="description">Description:</label>
                                        <textarea id="description" name="description" class="form-control">{{ request.session.general_info.description|default:'' }}</textarea>
                                    </div>
                                </div>
                                <div class="row" id="main-info-panel" style="display:visible;">
                                    <div class="col-md-12">
                                        <h3>Scope, Context & Criteria</h3>
                                        <div class="card card-block cardtiny">
                                            <div class="texteditor-enabled">
                                                <p class="paragraph">Detailed general information content goes here.</p>
                                            </div>
                                            <div class="textarea-el">
                                                <textarea class="textarea-0" id="mce_0" aria-hidden="true" style="display: none;">&lt;p class="paragraph"&gt;Detailed general information content goes here.&lt;/p&gt;</textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <h5>Prepared By:</h5>
                                        <input type="text" name="prepared_by" class="form-control" value="{{ request.session.general_info.prepared_by|default:'' }}">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <h5>Date:</h5>
                                        <input type="date" name="date" class="form-control" value="{{ request.session.general_info.date|default:'' }}">
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-md-12">
                                        <button type="submit" class="btn btn-primary">Next</button>
                                    </div>
                                </div>
                            </form>
                            <div class="row mt-3">
                                <div class="col-md-12">
                                    <button class="btn btn-info" onclick="openPopup('popup-asset-criteria')">Asset Criticality Assessment Criteria</button>
                                    <button class="btn btn-info" onclick="openPopup('popup-threat-criteria')">Threat Criteria</button>
                                    <button class="btn btn-info" onclick="openPopup('popup-hazard-criteria')">Hazard Criteria</button>
                                    <button class="btn btn-info" onclick="openPopup('popup-control-effectiveness')">Control Effectiveness Criteria</button>
                                    <button class="btn btn-info" onclick="openPopup('popup-risk-assessment')">Risk Assessment Criteria</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pop-up for Asset Criticality Assessment Criteria -->
<div id="popup-asset-criteria" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="assetCriteriaLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="assetCriteriaLabel">Asset Criticality Assessment Criteria</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Select or create asset criticality ratings and criteria in the table below. This information will be used to identify which assets are most critical within the scope of the assessment.</p>
                <form method="post" action="{% url 'save_asset_criteria' %}">
                    {% csrf_token %}
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Criticality Rating</th>
                                <th>Criteria</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="bg-danger text-white">VITAL</td>
                                <td><textarea name="vital_criteria" class="form-control">{{ request.session.asset_criteria.vital_criteria|default:'' }}</textarea></td>
                            </tr>
                            <tr>
                                <td class="bg-warning text-white">KEY</td>
                                <td><textarea name="key_criteria" class="form-control">{{ request.session.asset_criteria.key_criteria|default:'' }}</textarea></td>
                            </tr>
                            <tr>
                                <td class="bg-warning">IMPORTANT</td>
                                <td><textarea name="important_criteria" class="form-control">{{ request.session.asset_criteria.important_criteria|default:'' }}</textarea></td>
                            </tr>
                            <tr>
                                <td class="bg-success text-white">SUPPORTING</td>
                                <td><textarea name="supporting_criteria" class="form-control">{{ request.session.asset_criteria.supporting_criteria|default:'' }}</textarea></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save to Assessment</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Re-sync with Library</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Save as new template</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Pop-up for Threat Criteria -->
<div id="popup-threat-criteria" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="threatCriteriaLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="threatCriteriaLabel">Threat Criteria</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Select or create threat matrix ratings and criteria in the tables below.</p>
                <ul class="nav nav-tabs" id="threatCriteriaTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="intent-tab" data-bs-toggle="tab" href="#intent" role="tab" aria-controls="intent" aria-selected="true">Intent</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="capability-tab" data-bs-toggle="tab" href="#capability" role="tab" aria-controls="capability" aria-selected="false">Capability</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="tolerance-tab" data-bs-toggle="tab" href="#tolerance" role="tab" aria-controls="tolerance" aria-selected="false">Threat Tolerance</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="matrix-tab" data-bs-toggle="tab" href="#matrix" role="tab" aria-controls="matrix" aria-selected="false">Threat Matrix</a>
                    </li>
                </ul>
                <div class="tab-content" id="threatCriteriaTabsContent">
                    <div class="tab-pane fade show active" id="intent" role="tabpanel" aria-labelledby="intent-tab">
                        <form method="post" action="{% url 'save_intent' %}">
                            {% csrf_token %}
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Intent Rating</th>
                                        <th>Intent Descriptor</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>None</td>
                                        <td><textarea name="none_intent" class="form-control">{{ request.session.intent.none_intent|default:'' }}</textarea></td>
                                    </tr>
                                    <tr>
                                        <td>Implied</td>
                                        <td><textarea name="implied_intent" class="form-control">{{ request.session.intent.implied_intent|default:'' }}</textarea></td>
                                    </tr>
                                    <tr>
                                        <td>Expressed</td>
                                        <td><textarea name="expressed_intent" class="form-control">{{ request.session.intent.expressed_intent|default:'' }}</textarea></td>
                                    </tr>
                                </tbody>
                            </table>
                            <button type="submit" class="btn btn-primary mt-3">Save</button>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="capability" role="tabpanel" aria-labelledby="capability-tab">
                        <form method="post" action="{% url 'save_capability' %}">
                            {% csrf_token %}
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Capability Rating</th>
                                        <th>Capability Descriptor</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Extensive</td>
                                        <td><textarea name="extensive_capability" class="form-control">{{ request.session.capability.extensive_capability|default:'' }}</textarea></td>
                                    </tr>
                                    <tr>
                                        <td>Moderate</td>
                                        <td><textarea name="moderate_capability" class="form-control">{{ request.session.capability.moderate_capability|default:'' }}</textarea></td>
                                    </tr>
                                    <tr>
                                        <td>Low</td>
                                        <td><textarea name="low_capability" class="form-control">{{ request.session.capability.low_capability|default:'' }}</textarea></td>
                                    </tr>
                                </tbody>
                            </table>
                            <button type="submit" class="btn btn-primary mt-3">Save</button>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="tolerance" role="tabpanel" aria-labelledby="tolerance-tab">
                        <form method="post" action="{% url 'save_tolerance' %}">
                            {% csrf_token %}
                            <p>Select a higher tolerance rating if you don’t want lower level threats and threat acts to appear in the Security Risk Register. If you want to assess all threats and threat acts however (i.e. even the really low level ones), set the threat tolerance to the lowest level.</p>
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Threat Tolerance</th>
                                        <th>Descriptor</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="radio" name="threat_tolerance" value="high" id="high-tolerance" class="form-check-input" {% if request.session.tolerance.threat_tolerance == 'high' %}checked{% endif %}></td>
                                        <td class="bg-danger text-white">High: Threat Acts rated at this level must appear within the Risk Register.</td>
                                    </tr>
                                    <tr>
                                        <td><input type="radio" name="threat_tolerance" value="medium" id="medium-tolerance" class="form-check-input" {% if request.session.tolerance.threat_tolerance == 'medium' %}checked{% endif %}></td>
                                        <td class="bg-warning text-white">Medium: Threat Acts rated at this level (and higher) must appear within the Risk Register.</td>
                                    </tr>
                                    <tr>
                                        <td><input type="radio" name="threat_tolerance" value="low" id="low-tolerance" class="form-check-input" {% if request.session.tolerance.threat_tolerance == 'low' %}checked{% endif %}></td>
                                        <td class="bg-success text-white">Low: Threat Acts rated at this level (and higher) must appear within the Risk Register.</td>
                                    </tr>
                                </tbody>
                            </table>
                            <button type="submit" class="btn btn-primary mt-3">Save</button>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="matrix" role="tabpanel" aria-labelledby="matrix-tab">
                        <form method="post" action="{% url 'save_matrix' %}">
                            {% csrf_token %}
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Intent</th>
                                        <th>None</th>
                                        <th>Implied</th>
                                        <th>Expressed</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Extensive</td>
                                        <td class="bg-warning">Medium</td>
                                        <td class="bg-danger">High</td>
                                        <td class="bg-danger">High</td>
                                    </tr>
                                    <tr>
                                        <td>Moderate</td>
                                        <td class="bg-success">Low</td>
                                        <td class="bg-warning">Medium</td>
                                        <td class="bg-danger">High</td>
                                    </tr>
                                    <tr>
                                        <td>Low</td>
                                        <td class="bg-success">Low</td>
                                        <td class="bg-success">Low</td>
                                        <td class="bg-warning">Medium</td>
                                    </tr>
                                </tbody>
                            </table>
                            <button type="submit" class="btn btn-primary mt-3">Save</button>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Save to Assessment</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Re-sync with Library</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Save as new template</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pop-up for Hazard Criteria -->
<div id="popup-hazard-criteria" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="hazardCriteriaLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="hazardCriteriaLabel">Hazard Criteria</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Hazard criteria is used to assess the severity of individual Hazard Events.</p>
                <form method="post" action="{% url 'save_hazard_criteria' %}">
                    {% csrf_token %}
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Event Rating</th>
                                <th>Criteria</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="bg-danger text-white">Critical</td>
                                <td><textarea name="critical_criteria" class="form-control">{{ request.session.hazard_criteria.critical_criteria|default:'' }}</textarea></td>
                            </tr>
                            <tr>
                                <td class="bg-warning text-white">Emerging</td>
                                <td><textarea name="emerging_criteria" class="form-control">{{ request.session.hazard_criteria.emerging_criteria|default:'' }}</textarea></td>
                            </tr>
                            <tr>
                                <td class="bg-warning">Benign</td>
                                <td><textarea name="benign_criteria" class="form-control">{{ request.session.hazard_criteria.benign_criteria|default:'' }}</textarea></td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Define ratings and select a higher tolerance below if you do not wish lower-level Events to create corresponding risks in the Risk Register. If you wish to assess all Events however (even the lowest rated ones), set the Event Tolerance to its lowest level.</p>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Event Tolerance</th>
                                <th>Descriptor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><input type="radio" name="event_tolerance" value="critical" id="critical-tolerance" class="form-check-input" {% if request.session.hazard_criteria.event_tolerance == 'critical' %}checked{% endif %}></td>
                                <td class="bg-danger text-white">Critical: Hazard events rated at this level must appear within the Risk Register.</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="event_tolerance" value="emerging" id="emerging-tolerance" class="form-check-input" {% if request.session.hazard_criteria.event_tolerance == 'emerging' %}checked{% endif %}></td>
                                <td class="bg-warning text-white">Emerging: Hazard events rated at this level (and higher) must appear within the Risk Register.</td>
                            </tr>
                            <tr>
                                <td><input type="radio" name="event_tolerance" value="benign" id="benign-tolerance" class="form-check-input" {% if request.session.hazard_criteria.event_tolerance == 'benign' %}checked{% endif %}></td>
                                <td class="bg-success text-white">Benign: Hazard events rated at this level (and higher) must appear within the Risk Register.</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save to Assessment</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Re-sync with Library</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Save as new template</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Pop-up for Control Effectiveness Criteria -->
<div id="popup-control-effectiveness" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="controlEffectivenessLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="controlEffectivenessLabel">Control Effectiveness Criteria</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Select or create Control Effectiveness and criteria in the table below. This information will be used to identify the effectiveness of security controls relevant to the scope of the assessment.</p>
                <form method="post" action="{% url 'save_control_effectiveness' %}">
                    {% csrf_token %}
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Rating</th>
                                <th>Criteria</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="bg-success text-white">Adequate</td>
                                <td><textarea name="adequate_criteria" class="form-control">{{ request.session.control_effectiveness.adequate_criteria|default:'' }}</textarea></td>
                            </tr>
                            <tr>
                                <td class="bg-warning">Moderate</td>
                                <td><textarea name="moderate_criteria" class="form-control">{{ request.session.control_effectiveness.moderate_criteria|default:'' }}</textarea></td>
                            </tr>
                            <tr>
                                <td class="bg-danger text-white">Inadequate</td>
                                <td><textarea name="inadequate_criteria" class="form-control">{{ request.session.control_effectiveness.inadequate_criteria|default:'' }}</textarea></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save to Assessment</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Re-sync with Library</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Save as new template</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Pop-up for Risk Assessment Criteria -->
<div id="popup-risk-assessment" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="riskAssessmentLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="riskAssessmentLabel">Risk Assessment Criteria</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Select or create risk matrix in the table below. This information will be used to assess inherent and residual risk levels within the Security Risk Register.</p>
                <ul class="nav nav-tabs" id="riskAssessmentTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="consequence-criteria-tab" data-bs-toggle="tab" href="#consequence-criteria" role="tab" aria-controls="consequence-criteria" aria-selected="true">Consequence Criteria</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="likelihood-criteria-tab" data-bs-toggle="tab" href="#likelihood-criteria" role="tab" aria-controls="likelihood-criteria" aria-selected="false">Likelihood Criteria</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="risk-tolerance-tab" data-bs-toggle="tab" href="#risk-tolerance" role="tab" aria-controls="risk-tolerance" aria-selected="false">Risk Tolerance</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="risk-matrix-tab" data-bs-toggle="tab" href="#risk-matrix" role="tab" aria-controls="risk-matrix" aria-selected="false">Risk Matrix</a>
                    </li>
                </ul>
                <div class="tab-content" id="riskAssessmentTabsContent">
                    <div class="tab-pane fade show active" id="consequence-criteria" role="tabpanel" aria-labelledby="consequence-criteria-tab">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Consequence Criteria</th>
                                    <th>Negligible</th>
                                    <th>Minor</th>
                                    <th>Moderate</th>
                                    <th>Major</th>
                                    <th>Catastrophic</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>People</td>
                                    <td>Minor injury or first aid treatment.</td>
                                    <td>Injury requiring treatment by medical practitioner and/or lost time from workplace.</td>
                                    <td>Major injury/hospitalisation.</td>
                                    <td>Single death or multiple major injuries.</td>
                                    <td>Multiple Deaths.</td>
                                </tr>
                                <tr>
                                    <td>Information</td>
                                    <td>Compromise of information otherwise available in the public domain.</td>
                                    <td>Minor compromise of information sensitive to internal or sub-unit interest.</td>
                                    <td>Compromise of information sensitive to organisation operation.</td>
                                    <td>Compromise of information sensitive to organisation interests.</td>
                                    <td>Compromise of information with significant ongoing impact.</td>
                                </tr>
                                <tr>
                                    <td>Economic</td>
                                    <td>1% of budget (organizational, division or project budget as relevant)</td>
                                    <td>2-5% of annual budget.</td>
                                    <td>5-10% of Annual Budget</td>
                                    <td>>10% of annual budget</td>
                                    <td>>30% of Project or organizational annual budget</td>
                                </tr>
                                <tr>
                                    <td>Reputation</td>
                                    <td>Local mention only. Quickly forgotten. Freedom to operate unaffected. Self-improvement review required.</td>
                                    <td>Scrutiny by executive, internal committees or internal audit to prevent escalation. Short term local media concern. some impact on local level activities.</td>
                                    <td>Persistent national concern. Scrutiny required by external agencies. Long term "brand" impact. Major operations severely restricted.</td>
                                    <td>Persistent intense national public, political and media scrutiny. Long term "brand" impact. Major operations severely restricted.</td>
                                    <td>International concern, government inquiry or sustained adverse national/international media. "Brand" significantly affects organization abilities.</td>
                                </tr>
                                <tr>
                                    <td>Capability</td>
                                    <td>Minor skills impact. Minimal impact on non-core operations. The impact can be dealt with by routine operations.</td>
                                    <td>Some impact on organization capability in terms of delays, systems quality but able to be dealt with at operational level.</td>
                                    <td>Impact on the organisation resulting in reduced performance such that targets are not met. Organisation existence is not threatened, but could be subject to significant review.</td>
                                    <td>Breakdown of key activities etc. leading to reduction in business performance (e.g. service delays, revenue loss, client dissatisfaction, legislative breaches)</td>
                                    <td>Protracted unavailability of critical skills/people. Critical failure(s) preventing core activities from being performed. Survival of the project/activity/organisation is threatened.</td>
                                </tr>
                                <tr>
                                    <td>Property</td>
                                    <td>Minor damage or vandalism to asset.</td>
                                    <td>Minor damage or loss of < 5% of total assets</td>
                                    <td>Damage or loss of < 20% of Assets</td>
                                    <td>Extensive damage or loss of < 50% of assets</td>
                                    <td>Destruction or complete loss of > 50% of assets</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="likelihood-criteria" role="tabpanel" aria-labelledby="likelihood-criteria-tab">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Likelihood Rating</th>
                                    <th>Likelihood Descriptor</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Certain</td>
                                    <td>Occurs on an annual basis and will happen again in the short term.</td>
                                </tr>
                                <tr>
                                    <td>Likely</td>
                                    <td>Has occurred in last few years within the organisation or something has occurred that will cause it to happen in the short term.</td>
                                </tr>
                                <tr>
                                    <td>Possible</td>
                                    <td>Has occurred at least once within the organisation and is likely to occur again in the medium term.</td>
                                </tr>
                                <tr>
                                    <td>Unlikely</td>
                                    <td>Is possible but has not occurred to date and is considered to have less than a 1% chance of occurring within the organisation.</td>
                                </tr>
                                <tr>
                                    <td>Rare</td>
                                    <td>Has never occurred within the organisation but has occurred infrequently elsewhere and it is possible that it could occur in the medium term.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="risk-tolerance" role="tabpanel" aria-labelledby="risk-tolerance-tab">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Risk Tolerance</th>
                                    <th>Risk Treatment Requirements</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="radio" name="risk_tolerance" value="extreme" id="extreme-tolerance" class="form-check-input" {% if request.session.risk_tolerance.risk_tolerance == 'extreme' %}checked{% endif %}></td>
                                    <td class="bg-danger text-white">Extreme: Risk cannot be justified on any grounds - immediate risk treatment or avoidance is mandatory.</td>
                                </tr>
                                <tr>
                                    <td><input type="radio" name="risk_tolerance" value="high" id="high-tolerance" class="form-check-input" {% if request.session.risk_tolerance.risk_tolerance == 'high' %}checked{% endif %}></td>
                                    <td class="bg-warning text-white">High: Risk exceeds the organisation's tolerance threshold and must be reduced.</td>
                                </tr>
                                <tr>
                                    <td><input type="radio" name="risk_tolerance" value="medium" id="medium-tolerance" class="form-check-input" {% if request.session.risk_tolerance.risk_tolerance == 'medium' %}checked{% endif %}></td>
                                    <td class="bg-warning">Medium: Risk should be reduced if cost effective to do so. If not monitoring arrangements must be established and the risk must be reviewed periodically.</td>
                                </tr>
                                <tr>
                                    <td><input type="radio" name="risk_tolerance" value="low" id="low-tolerance" class="form-check-input" {% if request.session.risk_tolerance.risk_tolerance == 'low' %}checked{% endif %}></td>
                                    <td class="bg-success text-white">Low: Risk is within acceptable tolerances and should be monitored and reviewed for changes.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="risk-matrix" role="tabpanel" aria-labelledby="risk-matrix-tab">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>Likelihood</th>
                                    <th>Negligible</th>
                                    <th>Minor</th>
                                    <th>Moderate</th>
                                    <th>Major</th>
                                    <th>Catastrophic</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Certain</td>
                                    <td class="bg-warning">Medium</td>
                                    <td class="bg-warning">Medium</td>
                                    <td class="bg-warning">High</td>
                                    <td class="bg-danger text-white">Extreme</td>
                                    <td class="bg-danger text-white">Extreme</td>
                                </tr>
                                <tr>
                                    <td>Likely</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-warning">Medium</td>
                                    <td class="bg-warning">High</td>
                                    <td class="bg-warning">High</td>
                                    <td class="bg-danger text-white">Extreme</td>
                                </tr>
                                <tr>
                                    <td>Possible</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-warning">Medium</td>
                                    <td class="bg-warning">High</td>
                                    <td class="bg-warning">High</td>
                                    <td class="bg-warning">High</td>
                                </tr>
                                <tr>
                                    <td>Unlikely</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-warning">Medium</td>
                                    <td class="bg-warning">Medium</td>
                                    <td class="bg-warning">High</td>
                                </tr>
                                <tr>
                                    <td>Rare</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-success text-white">Low</td>
                                    <td class="bg-warning">Medium</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Save to Assessment</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Re-sync with Library</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Save as new template</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function openPopup(popupId) {
        $('#' + popupId).modal('show');
    }

    function closePopup(popupId) {
        $('#' + popupId).modal('hide');
    }
</script>
</body>
</html>
